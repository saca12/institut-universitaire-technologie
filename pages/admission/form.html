<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../styles/adm/form.css">
    <title>admission</title>
</head>
<body class="bod">
    <div class="bgcol" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M144.7 98.7c-21 34.1-33.1 74.3-33.1 117.3c0 98 62.8 181.4 150.4 211.7c-12.4 2.8-25.3 4.3-38.6 4.3C126.6 432 48 353.3 48 256c0-68.9 39.4-128.4 96.8-157.3zm62.1-66C91.1 41.2 0 137.9 0 256C0 379.7 100 480 223.5 480c47.8 0 92-15 128.4-40.6c1.9-1.3 3.7-2.7 5.5-4c4.8-3.6 9.4-7.4 13.9-11.4c2.7-2.4 5.3-4.8 7.9-7.3c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-3.7 .6-7.4 1.2-11.1 1.6c-5 .5-10.1 .9-15.3 1c-1.2 0-2.5 0-3.7 0l-.3 0c-96.8-.2-175.2-78.9-175.2-176c0-54.8 24.9-103.7 64.1-136c1-.9 2.1-1.7 3.2-2.6c4-3.2 8.2-6.2 12.5-9c3.1-2 6.3-4 9.6-5.8c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-3.6-.3-7.1-.5-10.7-.6c-2.7-.1-5.5-.1-8.2-.1c-3.3 0-6.5 .1-9.8 .2c-2.3 .1-4.6 .2-6.9 .4z"/></svg></div>
    <div class="container">
        <form class="request" action="traitement.php" method="post" id="myForm">
            <div class="title"><h1>Demande d'admission</h1></div>
            <div class="error"></div>
            <div class="champ">
                <div class="etat-civil">
                    <div class="sub-title"><h3>Informations état civil</h3></div>
                    <div class="info">
                        <label for="">Nom</label>
                        <div class="input-field" onmouseover="overed(nom)"  onmouseout="outing(nom)">
                            <input name="name" id="name" type="text" placeholder="EX: CXCX">
                            <div class="alert n_alert"></div>
                        </div>
                    </div>
                    <div class="info">
                        <label for="">Prénom</label>
                        <div class="input-field" onmouseover="overed(last_name)" onmouseout="outing(last_name)">
                            <input id="last_name" name="last_name" type="text" placeholder="EX: CXCX">
                            <div class="alert l_alert"></div>
                        </div>
                    </div>
                    <div class="info">
                        <label for="">Date de naissance</label>
                        <div class="input-field" onmouseover="overed(birth_date)" onmouseout="outing(birth_date)">
                            <input name="birth_date" id="birth_date" type="date" placeholder="">
                            <div class="alert d_naiss_alerte"></div>
                        </div>
                    </div>
                    <div class="info">
                        <label for="">Lieu de naissance</label>
                        <div class="input-field" onmouseover="overed(birth_place)" onmouseout="outing(birth_place)">
                            <input name="birth_place"  id="birth_place" type="text" placeholder="EX: CXCX">
                            <div class="alert l_naiss_alert"></div>
                        </div>
                    </div>
                    <div class="info">
                        <label for="">Nationnalité</label>
                        <div class="input-field" onmouseover="overed(national)" onmouseout="outing(national)">
                            <input name="national" id="national" type="text" placeholder="EX: CXCX">
                            <div class="alert nat_alert"></div>
                        </div>
                    </div>
                </div>
                <div class="diplome">
                    <div class="sub-title"><h3>Informations d'inscription</h3></div>
                    <div class="comp">
                        <div class="inline">
                            <label for="">Niveau d'étude ?</label>
                            <select name="level" id="level">
                                <option value="" selected>BAC</option>
                                <option value="">Licence</option>
                                <option value="">Master</option>
                            </select>
                        </div>
                        <br>
                        <div class="inline year">
                            <label for="">Année d'obtention du diplome :</label>
                            <div class="input-field month" onmouseover="overed(diplome_year)" onmouseout="outing(diplome_year)">
                                <input name="diplome_year" id="diplome_year" type="month" placeholder="June 2024">
                                <div class="alert ann_alert"></div>
                            </div>
                        </div>
                        <br>
                        <div class="inline">
                            <label for="">Copie légalisée du diplome en pdf</label>
                            <input name="diplome" type="file" class="fichier" id="diplome" value="pdf">
                        </div>
                        <br>
                        <div class="inline eco">
                            <label for="">Ecole d'origine :</label>
                            <div class="input-field school" onmouseover="overed(school)" onmouseout="outing(school)">
                                <input name="school" id="school" type="text" placeholder="Ex: Lyée cxcx">
                                <div class="alert sc_alert"></div>
                            </div>
                        </div>
                        <div class="inline">
                            <label for="">Filière d'inscription :</label>
                            <select name="filiere" id="filiere">
                                <option value="" selected>Génie Mécanique et Productique</option>
                                <option value="">Électrotechnique</option>
                                <option value="">Génie Industrie et Mécanique</option>
                            </select>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
            <div class="submit" onmouseover="after_active()">
                <div class="cnt1"><div class="flech1"><a href="adm.html"><input type="button" value="retour" class="retour"></a></div></div>
                <div class="cnt2"><div class="flech2"><input type="submit" value="continuer" class="continuer"></div></div>
            </div>
        </form>
    </div>
    <div class="suivant">
        <form class="request" action="traitement.php" method="post" id="myForm2">
            <div class="title"><h1>Demande d'admission</h1></div>
            <div class="error"></div>
            <div class="etat-civil info_comp">
                <div class="sub-title"><h3>Informations Complémentaires</h3></div>
                <div class="info">
                    <label for="">Numero de téléphone</label>
                    <div class="input-field" onmouseover="overed(nom)"  onmouseout="outing(nom)" >
                        <input name="tel" id="tel" type="number" placeholder="EX: 07070707" required>
                        <div class="alert"></div>
                    </div>
                </div>
                <div class="info">
                    <label for="">Adresse gmail</label>
                    <div class="input-field" onmouseover="overed(last_name)" onmouseout="outing(last_name)">
                        <input id="adress" name="adress" type="email" placeholder="EX: CXCX@gmail.com" required>
                        <div class="alert"></div>
                    </div>
                </div>
                <div class="info">
                    <label for="">Mot de pass</label>
                    <div class="input-field" onmouseover="overed(birth_date)" onmouseout="outing(birth_date)">
                        <input name="password" id="password" type="password" placeholder="XXXX" required>
                        <div class="alert"></div>
                    </div>
                </div>
                <div class="info">
                    <label for="">Confirmer le mot de pass</label>
                    <div class="input-field" onmouseover="overed(birth_place)" onmouseout="outing(birth_place)">
                        <input name="password_confirm"  id="password_confirm" type="password" placeholder="EX: XXXX" required>
                        <div class="alert"></div>
                    </div>
                </div>
                <div class="message">
                    <p>J'accepte de me conformer aux règles de l'établissemnt :</p>
                    <input type="checkbox">
                </div>
            </div>
            <div class="submit">
                <div class="cnt1"><div class="flech1"><a href="#"><input onclick="retourner()"  type="button" value="Retour" class="retour"></a></div></div>
                <div class="cnt2"><div class="flech2"><a href="adm.html"><input type="button" value="Envoyer" class="envoyer"></a></div></div>
            </div>
        </form>
    </div>
    <div class="result">
        <div class="title">vos informations</div>
        <table >
            <tr>
                <th>Intitulé</th>
                <th>Information</th>
            </tr>
            <tr>
                <td>Nom</td>
                <td class="nom-int"></td>
            </tr>
            <tr>
                <td>Prenom</td>
                <td class="prenom-int"></td>
            </tr>
            <tr>
                <td>Date et lieu de naissance</td>
                <td class="date_place-int"></td>
            </tr>
            <tr>
                <td>Nationalité</td>
                <td class="national-int"></td>
            </tr>
            <tr>
                <td>Contact</td>
                <td class="contact-int"></td>
            </tr>
            <tr>
                <td>adresse</td>
                <td class="adress-int"></td>
            </tr>
            <div class="retour-acceuil"><a href="../../index.html"><input type="button" value="Retour à l'acceuil" class="retour_acceuil"></a></div>
        </table>
    </div>
</body>
<script>
    const myForm = document.querySelector("#myForm")
    const nom = document.querySelector("#name")
    const last_name = document.querySelector("#last_name")
    const birth_date = document.querySelector("#birth_date")
    const birth_place = document.querySelector("#birth_place")
    const level = document.querySelector("#level")
    const diplome_year = document.querySelector("#diplome_year")
    const diplome = document.querySelector("#diplome")
    const school = document.querySelector("#school")
    const filiere = document.querySelector("#filiere")
    const national = document.querySelector("#national")

    const bgcol = document.querySelector(".bgcol")
    const bod = document.querySelector(".bod")
    const container = document.querySelector(".container")
    const suivant = document.querySelector(".suivant")

    bgcol.addEventListener('click',()=>{
        container.classList.toggle("bg-green")
        bod.classList.toggle("bg-yellow")
    })

    let req = new Array(nom,last_name,birth_date,birth_place,national,diplome_year,school)
    let chp = new Array("Nom","Prenom",'Date de naissance',"Lieu de naissance","Nationalité","Année d'obtention du diplome","Etablissement d'origine")
    let dis_alert = new Array("n_alert","l_alert",'d_naiss_alerte',"l_naiss_alert","nat_alert","ann_alert","sc_alert",)

    const err = document.querySelector('.error')
    const alert = document.querySelector('.alert')

    function overed(variable){
        variable.classList.add("input-over")
    }
    function outing(variable){
        variable.classList.remove("input-over")
    }

    myForm.addEventListener('submit',(e)=>{
        let myRegex = /^[a-zA-Z-\s]+$/;
        let cmp = 0;
        e.preventDefault()
        for(let i in req){
            if(req[i].value.trim()==""){
                err.style.color = '#b43535'
                err.innerHTML = "Le champ \"" +chp[i]+ "\" est obligatoire"
                document.querySelector(`.${dis_alert[i]}`).classList.add("disp_alert")
                return
            }else if(myRegex.test(req[i].value)==false && req[i]!=birth_date && req[i]!=diplome_year){
                err.style.color = '#b43535'
                err.innerHTML = "Les caractères autorisés pour le champ \""+chp[i]+"\" sont les lettres, les tirets et les espaces"
                document.querySelector(`.${dis_alert[i]}`).classList.add("disp_alert")
                return
            }else{
                document.querySelector(`.${dis_alert[i]}`).classList.remove("disp_alert")
                cmp++;
            }
        }
        if(cmp==req.length){
            suivant.classList.add('follow')
            container.classList.add('masquer')  
        }
    })

    function retourner(){
        container.classList.remove('masquer')
        suivant.classList.remove('follow')
    }

    const contact = document.querySelector('.contact')
    const adress = documment.querySelector('.adress')
    const passWord = document.querySelector('#password')
    const passWord_confirm = document.querySelector('#password_confirm')
    const form2 = document.querySelector('#myForm2')
    const result = document.querySelector('.result')

    const nom_int = document.querySelector('.nom-int')
    const prenom_int = document.querySelector('.prenom-int')
    const date_place_int = document.querySelector('.place_place_int')
    const national_int = document.querySelector('.national-int')
    const contact_int = document.querySelector('.contact-in')
    const adress_int = document.querySelector('.adress-in')

    form2.addEventListener('submit',(e)=>{
        e.preventDefault()
        if(passWord.value.trim() != passWord_confirm.value.trim())
        {
            err.style.color = '#b43535'
            err.innerHTML = "Le mot de pass n'est pas correctement entré"
        }else if(contact.value.trim()=="" || adress.value.trim()=="" || passWord.value.trim()==""){
            err.style.color = '#b43535'
            err.innerHTML = "Tous les champs doivent êtres remplis"
        }else{
            result.classList.add("presentation")
            suivant.classList.remove("follow")
            nom_int.innerHTML = nom.value
            prenom_int.innerHTML = last_name.value
            date_place_int.innerHTML = "Né le " + birth_date.value + " à " + birth_place.value
            national_int.innerHTML = national.value
            contact_int.innerHTML = contact.value
            adress_int.innerHTML = adress.value
        }
    })

</script>
</html> 
